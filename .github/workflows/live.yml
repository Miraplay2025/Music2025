name: Live Config

on:
  workflow_dispatch:
    inputs:
      stream_url:
        description: 'URL do Stream'
        required: true
        default: ''
      arquivos:
        description: 'Lista de arquivos'
        required: true
        default: ''
      rclone_conf:
        description: 'rclone.conf em Base64'
        required: true
        default: ''

jobs:
  run_live:
    runs-on: ubuntu-latest
    steps:
      - name: Exibir dados da Live
        run: |
          echo "🔗 URL Stream: ${{ github.event.inputs.stream_url }}"
          echo "📄 Caminhos dos arquivos:"
          echo "${{ github.event.inputs.arquivos }}"
          echo "🔐 rclone.conf (Base64):"
          echo "${{ github.event.inputs.rclone_conf }}"

      - name: Decodificar rclone.conf e exibir
        run: |
          echo "${{ github.event.inputs.rclone_conf }}" | base64 -d > rclone.conf
          echo "📁 Conteúdo decodificado do rclone.conf:"
          cat rclone.conf
